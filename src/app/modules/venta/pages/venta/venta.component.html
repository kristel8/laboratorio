<div class="t-flex-start">
  <h2>Lista de Ventas</h2>
  <app-button [label]="'Nuevo'" [router]="'./mantenimiento-venta'" [icono]="'pi pi-plus'"></app-button>
</div>
<br>
<section class="container-table">
  <app-table *ngIf="isCargado" [listaElementos]="listaElementos" [columnas]="colsVisibles" [filas]="10"
    [listaElementosAFiltrar]="['']" (eventoAccion)="eventoAccion($event)" [isMostrarMasOpciones]="true"
    [acciones]="acciones" [isMostrarAcciones]="false" [anchoColumna]="'190px'"></app-table>
</section>


<!-- #MODAL BUSCAR EMPÃ‘LEADO -->
<p-dialog header="Detalle de venta" [(visible)]="isVerDetalle" [modal]="true" [style]="{ width: '50vw' }"
  [draggable]="false" [resizable]="false">
  <p-table #tbDetails [columns]="colsDetalle" selectionMode="single" [value]="listaDetalleVenta" dataKey="descripcion"
    [rows]="6" [paginator]="true" [globalFilterFields]="[
      'descripcion'
    ]" [rowHover]="true" [scrollable]="true" responsiveLayout="scroll">
    <ng-template pTemplate="caption">
      <div class="caption">
        <span class="caption__search">
          <i class="pi pi-search"></i>
          <input pInputText type="text" (input)="tbDetails.filterGlobal($any($event.target).value, 'contains')"
            placeholder="Buscar..." />
        </span>
      </div>
    </ng-template>
    <ng-template pTemplate="header" let-columns>
      <tr>
        <th *ngFor="let col of columns">
          {{ col.header }}
        </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowData let-columns="columns">
      <tr [pSelectableRow]="rowData">
        <td *ngFor="let col of columns">
          <div [ngSwitch]="col.field">

            <div *ngSwitchCase="'precio'">
              {{ rowData[col.field] | currency: "S/" }}
            </div>

            <div *ngSwitchDefault>
              {{ rowData[col.field] }}
            </div>
          </div>

        </td>
      </tr>
      <tr class="third-row">
        <td></td>
        <td></td>
        <td></td>
        <td class="text-right"><b>Total</b></td>
        <td>{{ totalVenta | currency: "S/" }}</td>
      </tr>
    </ng-template>
  </p-table>

  <ng-template pTemplate="footer">
    <p-button icon="pi pi-times" (click)="isVerDetalle = false" label="Cerrar" styleClass="p-button-text">
    </p-button>
  </ng-template>
</p-dialog>
<!-- #END MODAL BUSCAR EMPLEADO -->
